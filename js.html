
<!DOCTYPE html>

<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Описание модулей javascript &#8212; документация AtgsProject 1.1</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/translations.js"></script>
    <link rel="index" title="Алфавитный указатель" href="genindex.html" />
    <link rel="search" title="Поиск" href="search.html" />
    <link rel="prev" title="Описание html-страниц" href="html.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="javascript">
<h1>Описание модулей javascript<a class="headerlink" href="#javascript" title="Ссылка на этот заголовок">¶</a></h1>
<div class="section" id="id1">
<h2>Базовые функции<a class="headerlink" href="#id1" title="Ссылка на этот заголовок">¶</a></h2>
<p>Базовые функции лежат в папке basic и включают в себя три файла basiclist.js, basicmodals.js и basicserver.js. В первом файле находятся функции для работы с динамическими списками, во втором–с модальными окнами, а в третьем–для взаимодействия с веб-сервером</p>
<div class="section" id="basiclist-js">
<h3>basiclist.js<a class="headerlink" href="#basiclist-js" title="Ссылка на этот заголовок">¶</a></h3>
<p>Здесь описаны функции для заполнения динамических списков. Этот модуль будет корректироваться в зависимости от потребностей, поэтому сейчас будут описаны только те функции, оторые однозначно будут использованы в проекте.</p>
<p>Таблица 4.1 функции basiclist.js</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 32%" />
<col style="width: 58%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Название функции</p></th>
<th class="head"><p>Аргументы</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>addOption</p></td>
<td><p>ilist, text, value, title=null , isDefaultSelected=false, isSelected=false</p></td>
<td><p>Добавление элемента в список</p></td>
</tr>
<tr class="row-odd"><td><p>addOptionFromObject</p></td>
<td><p>ilist, obj, decoder</p></td>
<td><p>Добавление эдемента в спиоск из объекта obj  с использованием перекодировочного объекта decoder</p></td>
</tr>
<tr class="row-even"><td><p>refreshList</p></td>
<td><p>ilist</p></td>
<td><p>Сброс всех элементов списка</p></td>
</tr>
<tr class="row-odd"><td><p>fillListFromServer</p></td>
<td><p>ilist, optionObj, errfunc= ()=&gt;{}, successfunc= ()=&gt;{}</p></td>
<td><p>Заполнение списка данными сервера (из объекта optionObj). В случае ошибки выполнеятся errfunc, в случае успешного выполнения-succesfunc</p></td>
</tr>
<tr class="row-even"><td><p>fillListFromServerModal</p></td>
<td><p>ilist, optionObj, errtext</p></td>
<td><p>Выполнение предыдущей функции, где в случае ошибки вызывается модальное информационное окно с текстом errtext</p></td>
</tr>
<tr class="row-odd"><td><p>setListDefaultItem</p></td>
<td><p>ilist, defText</p></td>
<td><p>Установление элемента по умолчанию (для пустого списка)</p></td>
</tr>
<tr class="row-even"><td><p>checkList</p></td>
<td><p>ilist, defText</p></td>
<td><p>Проверка спсика на наличие элементов. Если список пуст вызывается setListDefaultItem</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="basicmodals-js">
<h3>basicmodals.js<a class="headerlink" href="#basicmodals-js" title="Ссылка на этот заголовок">¶</a></h3>
<p>В этом файле сосредоточены функции для работы с модальными окнами. Сами окна прописываются в соответствующих template (или на самой html-странице), а предложенные функции наполняют их динамическими данными. Это удобно, например, для того, чтобы стандартные окна-сообщения были инвариантны относительно всей программы.</p>
<p>Таблица 4.2 функции basicmodals.js</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 24%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Название функции</p></th>
<th class="head"><p>Аргументы</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Modal</p></td>
<td><p>headerText, bodyText, cancelText, confirmText, confirmFunc</p></td>
<td><p>Заполняет модальное окно общего вида. В заголовке окна будет headerText, в теле-bodyText, на кнопках cancelText и confirmText, при потверждении выполняется confirmFunc</p></td>
</tr>
<tr class="row-odd"><td><p>setInfoModal</p></td>
<td><p>m</p></td>
<td><p>Заполняет информационное модальное окно(с одной кнопкой) из объекта m</p></td>
</tr>
<tr class="row-even"><td><p>setSuccessInfoModal</p></td>
<td><p>bodyText</p></td>
<td><p>Показывает модальное информационное окно об успешной операции с текстом bodyText</p></td>
</tr>
<tr class="row-odd"><td><p>setFailureInfoModal</p></td>
<td><p>bodyText</p></td>
<td><p>Показывает модальное информационное окно об неуспешной операции с текстом bodyText</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="basicserver-js">
<h3>basicserver.js<a class="headerlink" href="#basicserver-js" title="Ссылка на этот заголовок">¶</a></h3>
<p>В этом файле описаны функции для взаимодействия с веб-сервером, т.е сохранение и загрузка данных в общем виде.</p>
<p>Таблица 4.3 функции basicserver.js</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 18%" />
<col style="width: 69%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Название функции</p></th>
<th class="head"><p>Аргументы</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>getJSONFromServer</p></td>
<td><p>url</p></td>
<td><p>Получает JSON с веб-сервера по заданному адресу</p></td>
</tr>
<tr class="row-odd"><td><p>postJSON2Server</p></td>
<td><p>url , f</p></td>
<td><p>Отправляет POST-запрос по заданному адресу с телом из JSON, формируемым функцией f</p></td>
</tr>
<tr class="row-even"><td><p>postJSON2ServerCallback</p></td>
<td><p>url, jsonGetter, successfunc, errfunc</p></td>
<td><p>Запускает postJSON2Server, но при наличие err_message в теле JSON выполняется errfunc, при отсутствии таковой–successfunc</p></td>
</tr>
<tr class="row-odd"><td><p>postJSON2ServerModalCallback</p></td>
<td><p>url, jsonGetter, successMess, errMess</p></td>
<td><p>Запускает postJSON2ServerModalCallback, где в случае успешного/неуспешного завершения показывается модальное информационное окно с текстом successMes/errMes</p></td>
</tr>
<tr class="row-even"><td><p>defaultDataSaver</p></td>
<td><p>url, jsonGetter</p></td>
<td><p>Устанавливает стандартный вариант  postJSON2ServerModalCallback для сохранения данных</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="id2">
<h2>Модуль построения таблиц.<a class="headerlink" href="#id2" title="Ссылка на этот заголовок">¶</a></h2>
<p>Данный модуль поволяет создавать и выводить на экран динамически сформированные таблицы. Таблицы могут содержать вычисляемые поля, результирующие строки или столбцы.</p>
<div class="section" id="id3">
<h3>Общие положения<a class="headerlink" href="#id3" title="Ссылка на этот заголовок">¶</a></h3>
<div class="section" id="decoder-encoder">
<h4>Структура исходных данных. Объекты Decoder и Encoder<a class="headerlink" href="#decoder-encoder" title="Ссылка на этот заголовок">¶</a></h4>
<p>Источником данных для таблиц является, как правило, БД. Для того, чтобы подход к работе с данными был с одной стороны достаточно стандартизирован, а сдругой позволял работу с широким классом объектов необходимо ввести ряд допущений и ограничений. Так, требуется, чтобы из внешнего источника данные поступали в формате JSON, причем представляли собой массив определенного вида: каждый элемент этого массива будет определять строку таблицы, а данные по столбцам, при необходимости, должны быть сгруппированы в массив отдельных подобъектов. Вместе с тем, сами названия полей объекта являются произвольными, и для корректной интерпретации внешних данных нужен объект <em>Decoder</em>. Т.е. этот объект нужен для создания соответствия между объектом с данными и табличными полями. Свойства объекта Decoder, используемые в модуле:</p>
<ul class="simple" id="id4">
<li><dl class="simple">
<dt>rowData –общие параметры для строки</dt><dd><ul>
<li><p>rowIndexes –индексы, определяющие строку</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>columnData –общие параметры для столбцов</dt><dd><ul>
<li><p>columnDataName – название вложенного объекта, в котором сосредоточены данные</p></li>
<li><p>columnIndexes –парметры, определяющие столбец</p></li>
<li><p>columnNote –«внутреннее» название столбца</p></li>
<li><p>columnValue –значения для ячейки столбца</p></li>
<li><p>columnRefreshable – обновляемые поля столбцов</p></li>
<li><dl class="simple">
<dt>columnService – дополнительные служебные параметры</dt><dd><ul>
<li><p>cellPlaceholder – объект для значений-подсказок при пустых данных</p></li>
<li><p>cellControl – границы допустимых значений</p></li>
<li><p>cellSTates – значения для выпадающих списков</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>treeData – структура дерева</dt><dd><ul>
<li><p>childIndex – индекс ребенка</p></li>
<li><p>parentIndex –индекс родителя</p></li>
<li><p>calcIndex – индекс расчета</p></li>
<li><p>sourceIndex –индекс источника</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>Например, для стнадартного объекта</p>
<div class="highlight-javascript notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span>   <span class="kd">let</span> <span class="nx">DefaultDecoder</span><span class="o">=</span><span class="p">{</span>
     <span class="nx">rowData</span><span class="o">:</span><span class="p">{</span>
       <span class="nx">rowIndexes</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;go_index&quot;</span><span class="p">],</span>
     <span class="p">},</span>
     <span class="nx">columnData</span><span class="o">:</span><span class="p">{</span>
       <span class="nx">columnDataName</span><span class="o">:</span> <span class="s2">&quot;hist_values&quot;</span><span class="p">,</span>
       <span class="nx">columnIndexes</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;gp_index&quot;</span><span class="p">],</span>
       <span class="nx">columnNote</span><span class="o">:</span> <span class="s2">&quot;gp_note&quot;</span> <span class="p">,</span>
       <span class="nx">columnRefreshable</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;val_value&quot;</span><span class="p">,</span> <span class="s2">&quot;prev_value&quot;</span><span class="p">],</span>
       <span class="nx">columnValue</span><span class="o">:</span> <span class="s2">&quot;val_value&quot;</span><span class="p">,</span>
       <span class="nx">columnService</span><span class="o">:</span> <span class="p">{</span>
           <span class="nx">cellPlaceholder</span><span class="o">:</span> <span class="s2">&quot;prev_value&quot;</span><span class="p">,</span>
           <span class="nx">cellStates</span><span class="o">:</span> <span class="s2">&quot;op_states&quot;</span><span class="p">,</span>
           <span class="nx">cellControl</span><span class="o">:</span> <span class="s2">&quot;op_control&quot;</span>
       <span class="p">}</span>
     <span class="p">}</span>
   <span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Это означает, что строки определяются параметром <em>go_index</em> (rowIndexes), столбцы–параметром <em>gp_index</em> (columnIndexes), а параметр <em>gp_note</em> (columnNote) определяет внутреннее имя столбцов (конечно, можно обращаться и по индексу, но гораздо удобнее с точки зрения читаемости именно по <em>note</em>). Все данные по столбцам сгруппированы в объект под названием <em>hist_values</em> (columnDataName) При обновлении данных обновляются только значения <em>val_value</em>  и <em>prev_value</em> (columnRefreshable). Значением будет являться значение <em>val_value</em> (columnValue),причем при отсутствии данных система предложит вставить предыдущее значение <em>prev_value</em> (cellPlaceHolder), в случае если значение может выбираться из списка, то допустимые значения лежат в объекте <em>op_states</em> (cellStates), а границы определяются значением <em>op_control</em> (cellControl). Например, такой JSON из БД описывается объектом <em>DefaultDecoder</em>:</p>
<div class="highlight-javascript notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span>  <span class="kd">let</span> <span class="nx">iJs</span><span class="o">=</span> <span class="p">[</span>
   <span class="p">{</span>
       <span class="s2">&quot;go_nn&quot;</span><span class="o">:</span> <span class="mf">5</span><span class="p">,</span>
       <span class="s2">&quot;go_index&quot;</span><span class="o">:</span> <span class="mf">1112904</span><span class="p">,</span>
       <span class="s2">&quot;go_fullname&quot;</span><span class="o">:</span> <span class="s2">&quot;ОП Мастах&quot;</span><span class="p">,</span>
       <span class="s2">&quot;hist_values&quot;</span><span class="o">:</span> <span class="p">[</span>
           <span class="p">{</span>
               <span class="s2">&quot;gp_note&quot;</span><span class="o">:</span> <span class="s2">&quot;Tv&quot;</span><span class="p">,</span>
               <span class="s2">&quot;gp_index&quot;</span><span class="o">:</span> <span class="mf">33</span><span class="p">,</span>
               <span class="s2">&quot;op_states&quot;</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
               <span class="s2">&quot;val_value&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">51</span><span class="p">,</span>
               <span class="s2">&quot;op_control&quot;</span><span class="o">:</span> <span class="p">{</span>
                   <span class="s2">&quot;max_value&quot;</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
                   <span class="s2">&quot;min_value&quot;</span><span class="o">:</span> <span class="kc">null</span>
               <span class="p">},</span>
               <span class="s2">&quot;prev_value&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">49</span>
           <span class="p">},</span>
           <span class="p">{</span>
               <span class="s2">&quot;gp_note&quot;</span><span class="o">:</span> <span class="s2">&quot;wind_dir&quot;</span><span class="p">,</span>
               <span class="s2">&quot;gp_index&quot;</span><span class="o">:</span> <span class="mf">735</span><span class="p">,</span>
               <span class="s2">&quot;op_states&quot;</span><span class="o">:</span> <span class="p">{</span>
                   <span class="s2">&quot;0&quot;</span><span class="o">:</span> <span class="s2">&quot;Штиль&quot;</span><span class="p">,</span>
                   <span class="s2">&quot;1&quot;</span><span class="o">:</span> <span class="s2">&quot;Северный&quot;</span><span class="p">,</span>
                   <span class="s2">&quot;2&quot;</span><span class="o">:</span> <span class="s2">&quot;Северо-восточный&quot;</span><span class="p">,</span>
                   <span class="s2">&quot;3&quot;</span><span class="o">:</span> <span class="s2">&quot;Восточный&quot;</span><span class="p">,</span>
                   <span class="s2">&quot;4&quot;</span><span class="o">:</span> <span class="s2">&quot;Юго-восточный&quot;</span><span class="p">,</span>
                   <span class="s2">&quot;5&quot;</span><span class="o">:</span> <span class="s2">&quot;Южный&quot;</span><span class="p">,</span>
                   <span class="s2">&quot;6&quot;</span><span class="o">:</span> <span class="s2">&quot;Юго-западный&quot;</span><span class="p">,</span>
                   <span class="s2">&quot;7&quot;</span><span class="o">:</span> <span class="s2">&quot;Западный&quot;</span><span class="p">,</span>
                   <span class="s2">&quot;8&quot;</span><span class="o">:</span> <span class="s2">&quot;Северо-западный&quot;</span>
               <span class="p">},</span>
               <span class="s2">&quot;val_value&quot;</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
               <span class="s2">&quot;op_control&quot;</span><span class="o">:</span> <span class="p">{</span>
                   <span class="s2">&quot;max_value&quot;</span><span class="o">:</span> <span class="s2">&quot;1,Северный&quot;</span><span class="p">,</span>
                   <span class="s2">&quot;min_value&quot;</span><span class="o">:</span> <span class="s2">&quot;0,Штиль&quot;</span>
               <span class="p">},</span>
               <span class="s2">&quot;prev_value&quot;</span><span class="o">:</span> <span class="kc">null</span>
           <span class="p">}</span>
       <span class="p">]</span>
   <span class="p">}]</span>
</pre></div>
</td></tr></table></div>
<p>Объект <em>Encoder</em> наоборот, служит для сохранения информации в БД. Конечно, можно пытаться отправить в БД и исходный объект (с учетом, конечно, изменений пользователя), но во-первых, он содержит много ненужных для сохранения полей , а во-вторых, механизм ассоциаций, описанный ниже нарушает структуру объекта, так как создаются перекрестные ссылки. Таким образом, удобно из объекта цеплять только необходимую информацию и сохранять ее в БД. Поля объекта <em>Encoder</em>:</p>
<ul class="simple">
<li><p>rowIndexes –параметры строк, которые нужно отправить в БД</p></li>
<li><p>columnIndexes –параметры столбцов, которые нужны для сохранения в БД</p></li>
<li><dl class="simple">
<dt>metaValues – мета-данные (с точки зрения таблицы!), которые нужны для сохранения в БД</dt><dd><ul>
<li><p>int_name –имя для БД</p></li>
<li><p>ext_name – имя в модуле (на странице)</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>Например, объект</p>
<div class="highlight-javascript notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span>  <span class="kd">let</span> <span class="nx">DefaultEncoder</span> <span class="o">=</span><span class="p">{</span>
   <span class="nx">rowIndexes</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;go_index&quot;</span><span class="p">],</span>
   <span class="nx">columnIndexes</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;gp_index&quot;</span><span class="p">,</span> <span class="s2">&quot;val_value&quot;</span><span class="p">],</span>
   <span class="nx">metaValues</span><span class="o">:</span> <span class="p">[{</span>
       <span class="nx">int_name</span><span class="o">:</span> <span class="s2">&quot;val_time&quot;</span><span class="p">,</span>
       <span class="nx">ext_name</span><span class="o">:</span> <span class="s2">&quot;HistTime&quot;</span>
   <span class="p">}]</span>
  <span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>берет из строк значения <em>go_index</em>, из столбцов –<em>gp_index</em> и <em>val_value</em>, и дополнительно ищет значение <em>HistTime</em> (которое определено ВНЕ таблицы) и сохраняет под именем <em>val_time</em>. Массив таких объектов и будет отправлен для дальнейшего сохранения в БД.</p>
</div>
<div class="section" id="id5">
<h4>Ассоциации<a class="headerlink" href="#id5" title="Ссылка на этот заголовок">¶</a></h4>
<p>Для придания таблицам интерактивности, необходимо как-то «привязать» объекты друг к  другу. Например, по заполнению ячейки менять соответствующее значение в объекте, при изменении ячейки менять результирующие значения или же менять значения в ячейках при какой-то внешней загрузке. Таким механизмом и служат ассоциации. Ассоциация представляет из себя объект, содержащий имя ассоцииорованного объекта, выполянемую функцию, а также тип ассоциации. Например, ячейка связывается с объектом через ассоциацию cell, а объекты дерева через ассоциацию parent. Таким образом, у каждого объекта-строки, объекта-столбца и объекта-таблицы есть свой набор ассоциаций, образующих свойство associateMap (для ячеек нет associatedMap, там эту роль играет функция onchange). Поэтому, чтобы при совершении каких-либо действий с объектом получить какую-то реакцию со стороны определенных зависящих объектов, достоаточно запустить функции из associateMap для определенного типа ассоциаций. В качестве примера, при изменении данных в ячейке срабатывает ассоциация cell, в результате чего меняется значение для связанного с ячейкой объекта, который в свою очередь, запускает ассоциации parent, благодаря чему считаются результирующие столбцы и строки. Более подробно этот механизм будет описан ниже.</p>
</div>
</div>
<div class="section" id="c">
<h3>Cоздание таблиц<a class="headerlink" href="#c" title="Ссылка на этот заголовок">¶</a></h3>
<div class="section" id="tabcreator">
<h4>Класс TabCreator<a class="headerlink" href="#tabcreator" title="Ссылка на этот заголовок">¶</a></h4>
<p>Динамически формируемые таблицы создаются модулем посредством класса TabCreator. Для создания объекта класса необходимо задать следующие объекты:</p>
<ul class="simple">
<li><dl class="simple">
<dt>TableMeta – мета-информация о таблице</dt><dd><ul>
<li><p>TableName –имя таблицы</p></li>
<li><p>свойства, соответвтующие ext_name из metaValues <em>Encoder-а</em></p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<ul class="simple" id="tabledata">
<li><p>TableData – JSON со структурированными данными</p></li>
<li><p>Columns – объекты для создания ячеек по стобцам</p></li>
<li><p>SaveFunc –функция сохранения данных в БД</p></li>
<li><p>TableStyle – стиль таблицы (есть значение по умолчанию)</p></li>
<li><dl class="simple">
<dt>DataCoder – <em>Decoder</em> и <em>Encoder</em> для работы с таблицами</dt><dd><ul>
<li><p>Decoder</p></li>
<li><p>Encoder</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>GroupRows –функции для создания группирующих строк</dt><dd><ul>
<li><p>initRow –создание группирующей строки в начале</p></li>
<li><p>contentRow–создание группирующих строк в середине</p></li>
<li><p>footRow –создание группирующих строк в конце</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>После инициализации объекта  для того, чтобы создать таблицу внутри фиксированного контейнера на html-странице необходимо обратиться к методу <em>renderTable(containername)</em>.</p>
<p>Таблица 4.4 методы TabCreator</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 5%" />
<col style="width: 20%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Название метода</p></th>
<th class="head"><p>Аргументы</p></th>
<th class="head"><p>Краткое описание</p></th>
<th class="head"><p>Подробное описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>createHeaderRow</p></td>
<td></td>
<td><p>Создание строки внутри заголовка</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>createTableHeader</p></td>
<td></td>
<td><p>Создание заголовочной части таблицы</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>createColGroup</p></td>
<td></td>
<td><p>Создание группы столбцов</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>createTableBodyRows</p></td>
<td></td>
<td><p>Создание строк внутри тела таблицы</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>createTableBody</p></td>
<td></td>
<td><p>Создание тела таблицы</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>createTableFooter</p></td>
<td></td>
<td><p>Создание футера таблицы</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>createSaveButton</p></td>
<td></td>
<td><p>Создание кнопки  для сохранения данных</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>renderTable</p></td>
<td><p>containername</p></td>
<td><p>Создание таблицы на html-странице внутри контейнера containername</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>unrollTableData</p></td>
<td></td>
<td><p>Преобразование TableData в набор JSON-ов для сохранения</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>createBasicAssociationMap</p></td>
<td></td>
<td><p>Создание исходной карты ассоциаций</p></td>
<td><p>Каждому внутреннему JSON ставится ассоциация parent с объектом внешнего JSON-a и функцией пересчета родительского объекта. Т.е. при изменении какого-то «внутреннего» объекта по цепочке будут пересчитываться «внешние» объекты</p></td>
</tr>
<tr class="row-even"><td><p>createAssociationMap</p></td>
<td></td>
<td><p>Создание  карты ассоциаций</p></td>
<td><p>Для класса TabCreator совпадает с createBasicAssociationMap</p></td>
</tr>
<tr class="row-odd"><td><p>setColumnWidthFromArray</p></td>
<td><p>arr</p></td>
<td><p>Задает ширину стоблца по данным внешнего массива</p></td>
<td><p>Предполагается, что пропорции даны в массиве друг относительно друга. Если столбцов больше чем элементов массива, то относительная ширина незаданных колонок будет 1</p></td>
</tr>
<tr class="row-even"><td><p>FillByJSON</p></td>
<td><p>extObj</p></td>
<td><p>Заполняет поля TabData данными из объекта extObj</p></td>
<td><p>Если в extObj нет данных для какого либо внутреннего объекта, он не изменится. Таким образом, можно загружать (переносить) данные только по определенным объектам.</p></td>
</tr>
<tr class="row-odd"><td><p>FillByPrevious</p></td>
<td></td>
<td><p>Заполняет значения TableData предыдущими</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Refresh</p></td>
<td></td>
<td><p>Перерасчет и обновление таблицы</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>Подробная информация о столбцах и способах их создания будет дана в соответсвующем разделе. Группирующие строки также будут рассмотренны ниже.</p>
</div>
<div class="section" id="treetablecreator-sourcedtreetablecreator">
<h4>Создание таблиц-деревьев. Классы TreeTableCreator/SourcedTreeTableCreator<a class="headerlink" href="#treetablecreator-sourcedtreetablecreator" title="Ссылка на этот заголовок">¶</a></h4>
<p>Для создания таблиц, реализующих структуру дерева следует использовать этот класс, наследующий от TabCreator. Класс SourcedTreeTableCreator наследует от TreeTableCreator и нужен для создания таблиц, в котором источником какого-либо поля может быть другое поле, не связанное иерархией. Отличительные функции этих классов описаны в таблице ниже:</p>
<p>Таблица 4.5 методы TreeTableCreator/SourcedTreeTableCreator</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 9%" />
<col style="width: 3%" />
<col style="width: 10%" />
<col style="width: 79%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Название метода</p></th>
<th class="head"><p>Аргументы</p></th>
<th class="head"><p>Краткое описание</p></th>
<th class="head"><p>Подробное описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>create(Sourced)TreeAssociationMap</p></td>
<td></td>
<td><p>Создание ассоциаций структуры дерева</p></td>
<td><p>Прописываются ассоциации между строками, если объект в одной является потомком объекта в другой. При этом структура дерева затрагивает только те столбцы, что несут в себе эту структуру. Например, по дереву может считаться расход, а температура по каждому объекту может быть своя, никак не связанная со структурой дерева.</p></td>
</tr>
<tr class="row-odd"><td><p>createAssociationMap</p></td>
<td></td>
<td><p>Создание карты ассоциаций</p></td>
<td><p>Включает в себя и стандартные ассоциации, и ассоциации дерева.</p></td>
</tr>
<tr class="row-even"><td><p>recalcTree</p></td>
<td></td>
<td><p>Пересчет дерева</p></td>
<td><p>Данные в дереве могут быть получены из БД в нерасчитанном состоянии</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="id6">
<h3>Классы для создания строк<a class="headerlink" href="#id6" title="Ссылка на этот заголовок">¶</a></h3>
<p>Основная логика в создании таблиц находится именно в объектах Columns класса TabCreator. В модуле определен базовый класс TableColumn  содержащий функцию createCell, которая и создает ячейки для всех строк определенного столбца. Конкретный вид этой функции зависит от реализации этой функции объектом-наследником</p>
<p>Таблица 4.6 классы для создания строк</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 15%" />
<col style="width: 57%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Название класса</p></th>
<th class="head"><p>Родительский класс</p></th>
<th class="head"><p>Аргументы <a class="footnote-reference brackets" href="#id9" id="id7">1</a></p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>TableColumn</p></td>
<td></td>
<td><p>header, cellStyle</p></td>
<td><p>Создает столбец с заголовком header и функцией createCell создание ячеек со стилем, получаемым функцией cellStyle</p></td>
</tr>
<tr class="row-odd"><td><p>DataTableColumn</p></td>
<td><p>TableColumn</p></td>
<td><p>header, cellStyle, sourceFunc,</p>
<blockquote>
<div></div></blockquote>
<p id="childfunc">childFunc, nodataFunc, decoder</p>
</td>
<td><p>Общий класс для табличных столбцов
sourceFunc– функция для нахождения объекта-источника внутри внешнего объекта;</p>
<p>сhildFunc –создание дочернего элемента в ячейке (например, текстового узла или поля ввода данных) со всей необходимой логикой;
nodataFunc – функция создания ячейки в случае отсутствия объекта-источника;
decoder – объект описан <a class="reference internal" href="#id4">выше</a>;</p>
</td>
</tr>
<tr class="row-even"><td><p>RowMetaTextCell</p></td>
<td><p>DataTableColumn</p></td>
<td><p>header, cellStyle, sourcefield,
decoder</p></td>
<td><p>Создает тектовую ячейку из поля sourcefield строки <a class="footnote-reference brackets" href="#id10" id="id8">2</a></p></td>
</tr>
<tr class="row-odd"><td><p>ColumnMetaTextCell</p></td>
<td><p>DataTableColumn</p></td>
<td><p>header, cellStyle, sourcefield,
note, decoder</p></td>
<td><p>Создает текствовую ячейку из поля sourcefield столбца, определенного кодом note</p></td>
</tr>
<tr class="row-even"><td><p>ColumnValueTextCell</p></td>
<td><p>DataTableColumn</p></td>
<td><p>header, cellStyle, sourcefield,
note, decoder</p></td>
<td><p>Аналогично ColumnMetaTextCell, но ячейке добавляется ассоциации с объектом, благодаря чему значение становится обновляемым</p></td>
</tr>
<tr class="row-odd"><td><p>NotedValueColumn</p></td>
<td><p>DataTableColumn</p></td>
<td><p>header, cellStyle, sourceFunc,
childFunc, nodataFunc, note
decoder</p></td>
<td><p>Устанавливает дополнительно код столбца, что нужно для полей ввода (для их использования вычисляемыми полями )</p></td>
</tr>
<tr class="row-even"><td><p>DefaultNumberInputCell</p></td>
<td><p>NotedValueColumn</p></td>
<td><p>header, note, decoder</p></td>
<td><p>Создает стандартное числовое поле ввода (с плейсхолдером и контролем границ) на основе столбца с кодом note</p></td>
</tr>
<tr class="row-odd"><td><p>NumberInputCellWithButton</p></td>
<td><p>NotedValueColumn</p></td>
<td><p>header, cellStyle, note, decoder</p></td>
<td><p>Аналогично создает числовое поле с кнопкой, по которой можно выставить в качстве текущего предыдущее значение</p></td>
</tr>
<tr class="row-even"><td><p>DefaultSelectCell</p></td>
<td><p>NotedValueColumn</p></td>
<td><p>header, note, decoder</p></td>
<td><p>Аналогично создает стандартное поле с возможностью выбора значения</p></td>
</tr>
<tr class="row-odd"><td><p>CalculatedTableCell</p></td>
<td><p>DataTableColumn</p></td>
<td><p>header, cellStyle, calcFunc,
decoder</p></td>
<td><p>Создает поле, вычисляемое из объекта функцией calcFunc</p></td>
</tr>
<tr class="row-even"><td><p>CalculatedCellFromColumns</p></td>
<td><p>DataTableColumn</p></td>
<td><p>header, cellStyle, funcObj,</p>
<p>decoder</p>
</td>
<td><p>Создает поле на основе функции f объекта funcObj, аргументами которой будут являться столбцы, найденные из объекта-источника
funcObj-объект, состоящий из функции f и массива noteObj</p></td>
</tr>
<tr class="row-odd"><td><p>CalculatedCellFromColumnsValues</p></td>
<td></td>
<td><p>header, cellStyle, calcFunc,
noteArr, decoder</p></td>
<td><dl class="simple">
<dt>Создает вычисляемле поле на основании значений столбца, доступ к которым идет по их коду</dt><dd><p>calcFunс– функция для вычисления значения;
noteArr– наборо кодов столбцов, значения которых будут аргументами</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p>SumCellFromColumns</p></td>
<td><p>CalculatedCellFromColumnsValues</p></td>
<td><p>header, cellStyle, noteArr, decoder</p></td>
<td><p>Сумма нескольких столбцов</p></td>
</tr>
<tr class="row-odd"><td><p>MinCellFromColumns</p></td>
<td><p>CalculatedCellFromColumnsValues</p></td>
<td><p>header, cellStyle, noteArr, decoder</p></td>
<td><p>Минимальное значение нескольких столбцов</p></td>
</tr>
<tr class="row-even"><td><p>TreeTableColumn</p></td>
<td><p>TableColumn</p></td>
<td><dl class="simple">
<dt>header, cellStyle,sourceFunc,</dt><dd><p>childFunc, treeFunc , decoder</p>
</dd>
</dl>
</td>
<td><p>Создает ячейку для дерева. treeFunc– функция, определяющая место объекта в иерархии дерева.</p></td>
</tr>
<tr class="row-odd"><td><p>NotedTreeTableColumn</p></td>
<td><p>TreeTableColumn</p></td>
<td><p>header, cellStyle, note, decoder</p></td>
<td><p>Создает стандартное поле ввода данных для табличных функций</p></td>
</tr>
</tbody>
</table>
<dl class="footnote brackets">
<dt class="label" id="id9"><span class="brackets"><a class="fn-backref" href="#id7">1</a></span></dt>
<dd><p>Если аргумент потомка эквивалентен аргументу родителя, его подробное описание опускается</p>
</dd>
<dt class="label" id="id10"><span class="brackets"><a class="fn-backref" href="#id8">2</a></span></dt>
<dd><p>Здесь и далее понятия «строка» и «столбец» отождествленны с ассоциированными объектами, если не указано противное</p>
</dd>
</dl>
<div class="section" id="id11">
<h4>Создание элементов вввода данных и ассоциаций<a class="headerlink" href="#id11" title="Ссылка на этот заголовок">¶</a></h4>
<p>Элементы ввода данных создаются, как правило, внутри функции childFunc потомков класса TableColumn. Для начала, внутри ячейки создается поле ввода/выбора данных через функции:</p>
<p>Таблица 4.7 функции для создания полей ввода таблицы</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 22%" />
<col style="width: 58%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Название функции</p></th>
<th class="head"><p>Аргументы</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>createDefaultBlockedInput</p></td>
<td></td>
<td><p>Заблокированное поле</p></td>
</tr>
<tr class="row-odd"><td><p>createInputCell</p></td>
<td><p>sourceObj, inputType, decoder</p></td>
<td><p>Стандартное поле ввода данных типа inputType с текущим значением из sourceObj</p></td>
</tr>
<tr class="row-even"><td><p>createSelectCell</p></td>
<td><p>sourceObj, decoder</p></td>
<td><p>Стнадартное поле с выбором значений на основании sourceObj</p></td>
</tr>
</tbody>
</table>
<p>После этого, ячейки (поля ввода) получают, как правило ассоциацию типа cell между ними и подобъектами объекта <a class="reference internal" href="#tabledata">TableData</a>. Алгоритмы таковы:</p>
<ul class="simple">
<li><p>Обычные поля соответствуют подобъектам из массива columnDataName (т.е. какому то фиксированному столбцу фиксированной строки)</p></li>
<li><p>Вычисляемые столбцы привязываются сразу ко всей строке</p></li>
<li><p>Вычисляемые строки привязываются сразу ко всему объекту (т.е. ко всей таблице)</p></li>
</ul>
<p>Таким образом, расчет вычисляемых полей выполняется по иерархии: <strong>ячейка=&gt;столбец=&gt;строка</strong>. Примеры функций-ассоциаций и вспомогательных функций-событий</p>
<p>Таблица 4.8 функции для работы с ассоциациями</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 15%" />
<col style="width: 69%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Название функции</p></th>
<th class="head"><p>Аргументы</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>checkBorders</p></td>
<td><p>obj, borders</p></td>
<td><p>Если значение obj выходит за диапазоны borders, цвет фона obj меняется на красный</p></td>
</tr>
<tr class="row-odd"><td><p>setDefaultNumberPlaceholder</p></td>
<td><p>cellinput, valObj, decoder</p></td>
<td><p>Ставит стандартный плейсхолдер в ячейку из предыдущего значения</p></td>
</tr>
<tr class="row-even"><td><p>associateObj2Cell</p></td>
<td><p>cellinput, obj, associateFunc</p></td>
<td><p>Сохраняет в associateMap объекта obj ассоциацию с объектом cellinput, функцией associateFunc и типом cell</p></td>
</tr>
<tr class="row-odd"><td><p>associateCell2Obj</p></td>
<td><p>cellinput, obj, associateFunc</p></td>
<td><p>Устанавливает для cellinput событие onchange, где будет выполняться associateFunc и пересчет родителей связанного объекта</p></td>
</tr>
<tr class="row-even"><td><p>setObjValueFromCell</p></td>
<td><p>cellinput, sourceObj, decoder</p></td>
<td><p>Связывает значение объекта со значением ячейки</p></td>
</tr>
<tr class="row-odd"><td><p>setCellValueFromObj</p></td>
<td><p>cellinput, sourceObj, decoder</p></td>
<td><p>Связывает значение ячейки со значенем объекта</p></td>
</tr>
<tr class="row-even"><td><p>defaultNumberEvents</p></td>
<td><p>ellinput, sourceObj, decoder</p></td>
<td><p>Стандартный набор событий для числовых полей (по умолчанию–контроль значения)</p></td>
</tr>
<tr class="row-odd"><td><p>setDefaultInputNumberCellSettings</p></td>
<td><p>cellinput, valObj, decoder</p></td>
<td><p>Устанавливает стандартный набор ассоциаций между объектом и числовой ячейкой: перекрестные значения, проверка значения в ячейке и плейсхолдер</p></td>
</tr>
<tr class="row-even"><td><p>setDefaultSelectCellSettings</p></td>
<td><p>cellinput, valObj, decoder</p></td>
<td><p>Устанавливает перекрестные ссылки между полем выбора и объектом</p></td>
</tr>
<tr class="row-odd"><td><p>recalcAssociationByType</p></td>
<td><p>obj, associateType</p></td>
<td><p>Выполнение у объекта ассоциаций определенного типа</p></td>
</tr>
<tr class="row-even"><td><p>recalcParent</p></td>
<td><p>obj</p></td>
<td><p>Перерасчет родителей</p></td>
</tr>
<tr class="row-odd"><td><p>recalc</p></td>
<td><p>obj</p></td>
<td><p>Перерасчет ячеек</p></td>
</tr>
<tr class="row-even"><td><p>associate</p></td>
<td><p>obj</p></td>
<td><p>Запуск всех ассоциаций</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="id12">
<h3>Прочие функции модуля<a class="headerlink" href="#id12" title="Ссылка на этот заголовок">¶</a></h3>
<p>Таблица 4.9 Прочие функии модуля построения таблиц</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 15%" />
<col style="width: 69%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Название функции</p></th>
<th class="head"><p>Аргументы</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>createPrevValueButton</p></td>
<td><p>cellinput, valObj, decoder</p></td>
<td><p>Создание кнопки с предыдущим значением</p></td>
</tr>
<tr class="row-odd"><td><p>findSourceByNote</p></td>
<td><p>obj, decoder, note</p></td>
<td><p>Ищет внутри массива obj элемент с кодом note</p></td>
</tr>
<tr class="row-even"><td><p>part2Percents</p></td>
<td><p>partArr</p></td>
<td><p>Переводит массив из частей в проценты</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id13">
<h3>Группирующие строки<a class="headerlink" href="#id13" title="Ссылка на этот заголовок">¶</a></h3>
<p>Группирующие строки задаются в объекте GroupRows объекта TabCreator. Сами функции задаются извне произвольным образом. В силу большой специфичности объекта, унификация достаточно затруднительна и потому лучшим решением будет задавать внешний массив функций, связанных со столбцами. Это нужно, так как в разных столбцах содержатся разные типы данных, и, соответственно, разная логика для группировки. Например, для  числовых значений могут выводится минимальные значения, а текстовые значение никак не должны обрабатываться и соответствующая ячейка тоже должна быть пустой.</p>
<p>Таблица 4.10 Функции для создания группирующих строк</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 21%" />
<col style="width: 63%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Название функции</p></th>
<th class="head"><p>Аргументы</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>createResultRow</p></td>
<td><p>rowStyle,  columnResFuncs, container</p></td>
<td><p>создает результирующую строку со стилем rowStyle внутри элемента container, реализующая функцию columnResFunc</p></td>
</tr>
<tr class="row-odd"><td><p>createCalculatedRowCell</p></td>
<td><p>f, note</p></td>
<td><p>Создает выисляемую ячейку на основе значений определенного столбца, вычисляемых функцией f</p></td>
</tr>
</tbody>
</table>
<p>Вот пример реализации</p>
<div class="highlight-javascript notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span>   <span class="kd">let</span> <span class="nx">columnResFuncs</span><span class="o">=</span><span class="p">[()=&gt;</span><span class="s2">&quot;Минимальные параметры&quot;</span><span class="p">,</span>
           <span class="nx">arr</span><span class="p">=&gt;</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(...</span><span class="nx">arr</span><span class="p">),</span>
       <span class="nx">arr</span><span class="p">=&gt;</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(...</span><span class="nx">arr</span><span class="p">),</span>
       <span class="kc">null</span><span class="p">,</span> <span class="kc">null</span> <span class="p">]</span>

      <span class="p">.......</span>

   <span class="nx">iTab</span><span class="p">.</span><span class="nx">GroupRows</span><span class="p">.</span><span class="nx">footRow</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">tbody</span><span class="p">){</span>
       <span class="nx">createResultRow</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">iTab</span><span class="p">,</span><span class="nx">row</span><span class="p">=&gt;</span><span class="nx">row</span><span class="p">.</span><span class="nx">style</span><span class="o">=</span><span class="s2">&quot;border: 2px solid orange&quot;</span><span class="p">,</span><span class="nx">columnResFuncs</span><span class="p">,</span> <span class="nx">tbody</span><span class="p">)</span>
   <span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Здесь сначала создается массив функций, совпадающий по длине с количеством столбцов. Первый столбец результирующей строки будет содержать строчку «Минимальные параметры», а второй и третьей– минимальные значения в соответствующих столбцах. Четвертый и пятый столбец никак посчитаны не будут (например, там результирующие значения не имеют смысла).</p>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">AtgsProject</a></h1>








<h3>Навигация</h3>
<p class="caption"><span class="caption-text">Оглавление:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="header.html">Общая структура проекта</a></li>
<li class="toctree-l1"><a class="reference internal" href="db.html">Структура баз данных</a></li>
<li class="toctree-l1"><a class="reference internal" href="backend.html">Структура веб-сервера go</a></li>
<li class="toctree-l1"><a class="reference internal" href="html.html">Описание html-страниц</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Описание модулей javascript</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">Базовые функции</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#basiclist-js">basiclist.js</a></li>
<li class="toctree-l3"><a class="reference internal" href="#basicmodals-js">basicmodals.js</a></li>
<li class="toctree-l3"><a class="reference internal" href="#basicserver-js">basicserver.js</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id2">Модуль построения таблиц.</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">Общие положения</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#decoder-encoder">Структура исходных данных. Объекты Decoder и Encoder</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">Ассоциации</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#c">Cоздание таблиц</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#tabcreator">Класс TabCreator</a></li>
<li class="toctree-l4"><a class="reference internal" href="#treetablecreator-sourcedtreetablecreator">Создание таблиц-деревьев. Классы TreeTableCreator/SourcedTreeTableCreator</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id6">Классы для создания строк</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id11">Создание элементов вввода данных и ассоциаций</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id12">Прочие функции модуля</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id13">Группирующие строки</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="html.html" title="предыдущая глава">Описание html-страниц</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Быстрый поиск</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Искать" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Terekhov Georgy.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.5.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/js.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>